(window.webpackJsonp2_frontend=window.webpackJsonp2_frontend||[]).push([[0],{112:function(e,t,a){e.exports=a.p+"static/media/loading.6e0bcb5f.gif"},116:function(e,t,a){e.exports=a.p+"static/media/no-picture.3931f1ea.jpg"},128:function(e,t,a){e.exports=a(229)},134:function(e,t,a){},229:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),o=a.n(l),c=(a(133),a(134),a(124)),i=a(30),s=a(21),u=a.n(s),m=a(34),d=a(41),p=a(23),f=a(111),g=a.n(f).a.create({baseURL:"http://localhost/rede-industrial/1_api/public/api",timeout:15e3}),E=a(241),b=a(112),h=a.n(b),v=Object(E.a)({root:{textAlign:"center",minHeight:"100%",marginTop:"50px"},texto:{fontFamily:"monospace"}}),y=function(){var e=v();return r.a.createElement("div",{className:e.root},r.a.createElement("img",{src:h.a,alt:"loading"}),r.a.createElement("br",null),r.a.createElement("span",{className:e.texto},"processando, aguarde..."))},w=a(237),O=a(115),x=a(242),j=a(238),C=a(239),k=a(244),N=Object(E.a)({containerButton:{display:"flex",alignItems:"center",justifyContent:"flex-end"},table:{border:".5px #6a10a7 solid",padding:"20px",borderRadius:"3px",backgroundColor:"#6065800a"}}),I=function(e){var t=N();return r.a.createElement(r.a.Fragment,null,e.loading?r.a.createElement(y,null):r.a.createElement(r.a.Fragment,null,e.show?r.a.createElement(w.a,{className:"justify-content-center"},r.a.createElement(O.a,{xs:12,sm:12,md:6,lg:5,xl:5},r.a.createElement(x.a,{variant:e.show.variant},e.show.msg))):null,r.a.createElement(w.a,null,r.a.createElement(O.a,null,r.a.createElement("h4",null,"Registro de Usu\xe1rios:")),r.a.createElement(O.a,null,r.a.createElement("div",{className:t.containerButton},r.a.createElement(j.a,null,r.a.createElement(C.a,{title:"Novo usu\xe1rio",onClick:function(){return e.redirectUrl("/user/new")},variant:"outline-secondary",size:"sm"},"+ Novo"),"\xa0",r.a.createElement(C.a,{title:"Atualizar tabela",onClick:function(){return e.getUsers()},variant:"outline-secondary",size:"sm"},"@ Atualizar"),"\xa0",r.a.createElement(C.a,{title:"Imprimir",variant:"outline-secondary",size:"sm"},"# Imprimir"))))),r.a.createElement("div",{className:t.table},r.a.createElement(k.a,Object(m.a)({triped:!0,bordered:!0,hover:!0,size:"sm"},"triped","true"),r.a.createElement("thead",null,r.a.createElement("tr",{style:{backgroundColor:"rgb(197, 197, 197)"}},r.a.createElement("th",{style:{width:"30px"}},"ID"),r.a.createElement("th",null,"NOME"),r.a.createElement("th",null,"EMAIL"),r.a.createElement("th",null,"FONE"),r.a.createElement("th",{style:{width:"20px"}},"A\xc7\xc3O"))),r.a.createElement("tbody",null,0===e.users.length?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:5},r.a.createElement("span",null,"Nenhum registro encontrado."))):r.a.createElement(r.a.Fragment,null,e.users.map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.nome),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.fone),r.a.createElement("td",null,r.a.createElement(C.a,{title:"Editar registro",onClick:function(){return e.redirectUrl("/user/edit/".concat(t.id))},variant:"outline-warning",size:"sm"},"E"),"\xa0",r.a.createElement(C.a,{title:"Excluir registro",onClick:function(){return e.deleteUser(t.id,a)},variant:"outline-danger",size:"sm"},"X")))})))))))};function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var F=function(e){var t=r.a.useState(!0),a=Object(p.a)(t,2),n=a[0],l=a[1],o=r.a.useState([]),c=Object(p.a)(o,2),i=c[0],s=c[1],m=r.a.useState({show:!1,variant:""}),f=Object(p.a)(m,2),E=f[0],b=f[1];r.a.useEffect(function(){v()},[]);var h=function(){var e=Object(d.a)(u.a.mark(function e(t,a){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,g.delete("/users/".concat(t));case 4:n=e.sent,n.data.success?((r=i).splice(a,1),s(r),b({show:!0,variant:"success",msg:"Registro apagado com sucesso."}),setTimeout(function(){b(S({},E,{show:!1}))},3e3)):(b({show:!0,variant:"warning",msg:"Erro ao apagar o registro."}),setTimeout(function(){b(S({},E,{show:!1}))},3e3)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:l(!1);case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(u.a.mark(function e(){var t,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,g("/users");case 4:t=e.sent,a=t.data,s(a.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:l(!1);case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(I,{users:i,loading:n,show:E,redirectUrl:function(t){e.history.push(t)},getUsers:v,deleteUser:h})},B=a(116),U=a.n(B),z=a(117),D=a.n(z),R=a(243),A=Object(E.a)({containerButton:{display:"flex",alignItems:"center",justifyContent:"flex-end"},containerButtonImage:{display:"flex",alignItems:"center",justifyContent:"center"},form:{border:".5px #6a10a7 solid",padding:"20px",borderRadius:"3px",backgroundColor:"#6065800a"},containerPreviewImage:{border:".5px solid rgb(106, 16, 167)",padding:"2px",borderRadius:"2px",cursor:"pointer",width:"128px",height:"128px"}}),L=r.a.forwardRef(function(e,t){var a=A();return r.a.createElement(r.a.Fragment,null,e.loading?r.a.createElement(y,null):r.a.createElement(r.a.Fragment,null,e.show?r.a.createElement(w.a,{className:"justify-content-center"},r.a.createElement(O.a,{xs:12,sm:12,md:6,lg:5,xl:5},r.a.createElement(x.a,{variant:e.show.variant},e.show.msg))):null,r.a.createElement(w.a,null,r.a.createElement(O.a,null,r.a.createElement("h4",null,"Formul\xe1rio:"))),r.a.createElement("div",{className:a.form},r.a.createElement(w.a,{className:"justify-content-center"},r.a.createElement(O.a,null,r.a.createElement("div",{className:a.containerButtonImage},r.a.createElement("img",{title:"selecionar foto",alt:"imagem de perfil do usu\xe1rio",className:a.containerPreviewImage,src:e.fotoView.fotoBase64?e.fotoView.fotoBase64:U.a,onClick:e.openFile})))),r.a.createElement(w.a,{className:"justify-content-center"},r.a.createElement(O.a,null,r.a.createElement("div",{className:a.containerButtonImage},r.a.createElement(j.a,null,r.a.createElement(C.a,{disabled:null===e.user.foto,title:"Apagar imagem",onClick:e.clearImageSelection,variant:"link",size:"sm"},"Apagar imagem"))))),r.a.createElement(R.a,{noValidate:!0,validated:e.validated,onSubmit:e.submitForm},r.a.createElement("input",{style:{display:"none"},type:"file",onChange:e.handleImageChange,ref:t}),r.a.createElement(R.a.Group,{controlId:"formGroupNome"},r.a.createElement(R.a.Label,null,"Nome completo:"),r.a.createElement(R.a.Control,{type:"text",placeholder:"Nome completo",name:"nome",onChange:e.handleChange("nome"),value:e.user.nome,required:!0}),r.a.createElement(R.a.Control.Feedback,{type:"invalid"},"Campo obrigat\xf3rio")),r.a.createElement(R.a.Group,{controlId:"formGroupEmail"},r.a.createElement(R.a.Label,null,"Email"),r.a.createElement(R.a.Control,{type:"email",placeholder:"Email",name:"email",onChange:e.handleChange("email"),value:e.user.email,required:!0}),r.a.createElement(R.a.Control.Feedback,{type:"invalid"},"Campo obrigat\xf3rio")),r.a.createElement(R.a.Group,{controlId:"formGroupContato"},r.a.createElement(R.a.Label,null,"Contato"),r.a.createElement(D.a,{type:"text",name:"fone",mask:"(11)11111-1111",onChange:e.handleChange("fone"),value:e.user.fone,minLength:"14",required:!0}),r.a.createElement(R.a.Control.Feedback,{type:"invalid"},"Campo obrigat\xf3rio")),r.a.createElement("div",{className:a.containerButton},r.a.createElement(j.a,null,r.a.createElement(C.a,{disabled:e.loading,title:"Salvar",type:"submit",variant:"outline-success",size:"sm"},"Salvar"),"\xa0",r.a.createElement(C.a,{disabled:e.loading,title:"Cancelar",onClick:function(){return e.redirectUrl("/")},variant:"outline-danger",size:"sm"},"Cancelar")))))))});function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var V=function(e){var t=r.a.useState({show:!1,variant:""}),a=Object(p.a)(t,2),n=a[0],l=(a[1],r.a.useState(!0)),o=Object(p.a)(l,2),c=o[0],i=o[1],s=r.a.useState(!1),f=Object(p.a)(s,2),E=f[0],b=(f[1],r.a.useState({id:0,nome:null,email:null,fone:null,foto:null})),h=Object(p.a)(b,2),v=h[0],y=h[1],w=r.a.useState({fotoBase64:null}),O=Object(p.a)(w,2),x=O[0],j=O[1],C=r.a.createRef();r.a.useEffect(function(){k()},[]);var k=function(){var t=Object(d.a)(u.a.mark(function t(){var a,n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i(!0),"edit"!==e.match.params.action||"undefined"===typeof e.match.params.id){t.next=14;break}return t.prev=2,t.next=5,g.get("/users/".concat(e.match.params.id));case 5:a=t.sent,n=a.data,y(n[0]),j({fotoBase64:n[0].foto}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),console.error(t.t0);case 14:i(!1);case 15:case"end":return t.stop()}},t,null,[[2,11]])}));return function(){return t.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("submit form"),!1===t.currentTarget.checkValidity()&&(console.log("invalid form"),t.preventDefault(),t.stopPropagation());case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(L,{user:v,loading:c,show:n,validated:E,getUser:k,submitForm:N,handleChange:function(e){return function(t){y(T({},v,Object(m.a)({},e,t.target.value)))}},redirectUrl:function(t){e.history.push(t)},ref:C,fotoView:x,openFile:function(){C.current.click()},clearImageSelection:function(){console.log("sadsad"),j({fotoBase64:null}),y(T({},v,{foto:null}))},handleImageChange:function(e){y(T({},v,{foto:e.target.files[0]}));var t=new FileReader;t.onload=function(e){j({fotoBase64:e.target.result})},e.target.files[0]?t.readAsDataURL(e.target.files[0]):j({fotoSize:0,fotoBase64:null})}})},q=Object(E.a)({root:{position:"fixed",left:0,top:0,width:"100%",color:"#fff",backgroundColor:"#421a5d"}}),_=function(){var e=q();return r.a.createElement("header",{className:e.root},r.a.createElement("div",{className:"footer-copyright text-center py-2"},"Thiago Cabral - Teste para vaga de desenvolvedor"))},J=Object(E.a)({root:{position:"fixed",left:0,bottom:0,width:"100%",color:"#fff",backgroundColor:"#421a5d"}}),M=function(){var e=J();return r.a.createElement("footer",{className:e.root},r.a.createElement("div",{className:"footer-copyright text-center py-2"},"Rede Industrial"))},H=a(240);var W=function(){return r.a.createElement(c.a,null,r.a.createElement(H.a,null,r.a.createElement(w.a,null,r.a.createElement(O.a,null,r.a.createElement(_,null))),r.a.createElement(w.a,null,r.a.createElement(O.a,{style:{minWidth:"20vh"}},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:F}),r.a.createElement(i.a,{path:"/user/:action(new|edit)/:id?",component:V})),"\xa0")),r.a.createElement(w.a,null,r.a.createElement(O.a,null,r.a.createElement(M,null)))))};o.a.render(r.a.createElement(W,null),document.getElementById("root"))}},[[128,1,2]]]);
//# sourceMappingURL=main.d2167ddd.chunk.js.map